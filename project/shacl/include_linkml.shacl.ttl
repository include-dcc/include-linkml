@prefix include: <https://w3id.org/include/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

include:Thing a sh:NodeShape ;
    sh:closed true ;
    sh:description "Highest Level Class" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:name "Thing" ;
    sh:targetClass include:Thing .

include:Biospecimen a sh:NodeShape ;
    sh:closed true ;
    sh:description "A Biospecimen Collected from A Participant" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:name "Biospecimen" ;
    sh:property [ sh:class include:Participant ;
            sh:description "Link to a Participant" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNode ;
            sh:order 6 ;
            sh:path include:has_participant ],
        [ sh:description "Type of biological material comprising the collected sample (e.g. Whole blood, Bone marrow, Saliva, etc.)" ;
            sh:maxCount 1 ;
            sh:order 3 ;
            sh:path include:collection_sample_type ],
        [ sh:description "Type of biological material comprising the sample (e.g. Plasma, Serum, White blood cells, DNA, RNA, etc.)" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 13 ;
            sh:path include:sample_type ],
        [ sh:description "Amount of sample in container" ;
            sh:maxCount 1 ;
            sh:order 14 ;
            sh:path include:volume ],
        [ sh:description "Procedure by which Sample was derived from Parent Sample (e.g. RBC lysis, Centrifugation, Ficoll, etc.)" ;
            sh:maxCount 1 ;
            sh:order 8 ;
            sh:path include:laboratory_procedure ],
        [ sh:description "Identifier for sample. A sample is a unique biological material; two samples with two different IDs are biologically distinct." ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 12 ;
            sh:path include:sample_id ],
        [ sh:description "Identifier for the eldest sample in a lineage of processed, pooled, or aliquoted samples. This may be the same as Parent Sample ID or Sample ID (if no processing was performed)." ;
            sh:maxCount 1 ;
            sh:order 2 ;
            sh:path include:collection_id ],
        [ sh:class include:Study ;
            sh:description "Link to a Study" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNode ;
            sh:order 7 ;
            sh:path include:has_study ],
        [ sh:description "Identifier for the direct parent from which Sample was derived, processed, pooled, etc. (if applicable)" ;
            sh:maxCount 1 ;
            sh:order 9 ;
            sh:path include:parent_sample_id ],
        [ sh:description "Age in days of participant at time of biospecimen collection" ;
            sh:maxCount 1 ;
            sh:order 0 ;
            sh:path include:age_at_biospecimen_collection ],
        [ sh:description "Unit of sample volume" ;
            sh:maxCount 1 ;
            sh:order 15 ;
            sh:path include:volume_unit ],
        [ sh:description "Type of biological material comprising the parent sample (e.g. Plasma, Serum, White blood cells, etc.)" ;
            sh:maxCount 1 ;
            sh:order 10 ;
            sh:path include:parent_sample_type ],
        [ sh:description "Identifier for specific container/aliquot of sample, if applicable. For example, distinct aliquots of a sample will have the same Sample ID but different Container IDs." ;
            sh:maxCount 1 ;
            sh:order 4 ;
            sh:path include:container_id ],
        [ sh:description "Whether or not the sample is potentially available for sharing through the Virtual Biorepository" ;
            sh:in ( "Available" "Unavailable" ) ;
            sh:maxCount 1 ;
            sh:order 11 ;
            sh:path include:sample_availability ],
        [ sh:description "Method by which Container is stored (e.g. -80C freezer, Liquid nitrogen, etc.)" ;
            sh:maxCount 1 ;
            sh:order 1 ;
            sh:path include:biospecimen_storage ],
        [ sh:class include:DataFile ;
            sh:description "Link to a DataFile" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNode ;
            sh:order 5 ;
            sh:path include:has_datafile ] ;
    sh:targetClass include:Biospecimen .

include:DataFile a sh:NodeShape ;
    sh:closed true ;
    sh:description "A DataFile Associated with a Participant or Study or Biospecimen" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:name "DataFile" ;
    sh:property [ sh:description "Identifier for the eldest sample in a lineage of processed, pooled, or aliquoted samples. This may be the same as Parent Sample ID or Sample ID (if no processing was performed)." ;
            sh:maxCount 1 ;
            sh:order 1 ;
            sh:path include:collection_id ],
        [ sh:description "Specific type of data contained in file (e.g. Aligned reads, Unaligned reads, SNV, CNV, Gene fusions, Isoform expression, Gene expression quantification, Structural variations, Cytokine profiles, Operation reports, Pathology reports, Histology images, Clinical supplement, Protein expression quantification, etc.)" ;
            sh:maxCount 1 ;
            sh:order 4 ;
            sh:path include:data_type ],
        [ sh:description "Synapse ID for file" ;
            sh:maxCount 1 ;
            sh:order 7 ;
            sh:path include:file_name ],
        [ sh:class include:Biospecimen ;
            sh:description "Link to a Biospecimen" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNode ;
            sh:order 9 ;
            sh:path include:has_biospecimen ],
        [ sh:description "General category of data in file (e.g. Clinical, Genomics, Proteomics, Metabolomics, Immune maps, Transcriptomics, etc.)" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 3 ;
            sh:path include:data_category ],
        [ sh:class include:Study ;
            sh:description "Link to a Study" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNode ;
            sh:order 11 ;
            sh:path include:has_study ],
        [ sh:description "File identifier, assigned by DCC" ;
            sh:maxCount 1 ;
            sh:order 6 ;
            sh:path include:file_id ],
        [ sh:description "Size of file" ;
            sh:maxCount 1 ;
            sh:order 13 ;
            sh:path include:size ],
        [ sh:class include:Participant ;
            sh:description "Link to a Participant" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNode ;
            sh:order 10 ;
            sh:path include:has_participant ],
        [ sh:description "Type of access control on this file, determined by DCC" ;
            sh:in ( "Controlled" "Open" "Registered" ) ;
            sh:maxCount 1 ;
            sh:order 2 ;
            sh:path include:data_access ],
        [ sh:description "Format of file (e.g. bam, cram, vcf, csv, html, png, fastq, pdf, dicom, etc.)" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 8 ;
            sh:path include:format ],
        [ sh:description "Unique identifier for the participant, assigned by DCC" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 12 ;
            sh:path include:participant_id ],
        [ sh:description "Experimental method used to obtain data in file (e.g. WGS, RNAseq, WXS, SOMAscan, Mass spec proteomics, LCMS metabolomics, Multiplex immunoassay, Meso Scale Discovery, etc.)" ;
            sh:maxCount 1 ;
            sh:order 5 ;
            sh:path include:experimental_strategy ],
        [ sh:description "Storage location for this file" ;
            sh:maxCount 1 ;
            sh:order 0 ;
            sh:path include:access_url ] ;
    sh:targetClass include:DataFile .

include:Participant a sh:NodeShape ;
    sh:closed true ;
    sh:description "A Participant in a Study" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:name "Participant" ;
    sh:property [ sh:description "Participant ID for Participant's mother" ;
            sh:maxCount 1 ;
            sh:order 17 ;
            sh:path include:mother_id ],
        [ sh:class include:Study ;
            sh:description "Link to a Study" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNode ;
            sh:order 16 ;
            sh:path include:has_study ],
        [ sh:description "Sex of participant" ;
            sh:in ( "Female" "Male" "Other" "Unknown" ) ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 24 ;
            sh:path include:sex ],
        [ sh:description "ICD-10 code (annotated by data contributor or DCC)" ;
            sh:maxCount 1 ;
            sh:order 3 ;
            sh:path include:diagnosis_icd ],
        [ sh:description "Age of last vital status" ;
            sh:maxCount 1 ;
            sh:order 2 ;
            sh:path include:age_at_the_last_vital_status ],
        [ sh:description "Diagnosis as described by data contributor" ;
            sh:maxCount 1 ;
            sh:order 6 ;
            sh:path include:diagnosis_source_text ],
        [ sh:class include:DataFile ;
            sh:description "Link to a DataFile" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNode ;
            sh:order 15 ;
            sh:path include:has_datafile ],
        [ sh:description "Structure of family members participating in the study (proband-only = no family members participating; duo = proband + parent; trio = proband + 2 parents; trio+ = proband + 2 parents + other relatives) " ;
            sh:in ( "Duo" "Other" "Proband-only" "Trio" ) ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 13 ;
            sh:path include:family_type ],
        [ sh:description "Whether participant is alive or dead" ;
            sh:maxCount 1 ;
            sh:order 18 ;
            sh:path include:outcomes_vital_status ],
        [ sh:description "How diagnosis was assigned" ;
            sh:maxCount 1 ;
            sh:order 7 ;
            sh:path include:diagnosis_type ],
        [ sh:description "Human Phenotype Ontology code (annotated by data contributor or DCC)" ;
            sh:maxCount 1 ;
            sh:order 20 ;
            sh:path include:phenotype_hpo ],
        [ sh:description "Relationship of Participant to other family members" ;
            sh:maxCount 1 ;
            sh:order 12 ;
            sh:path include:family_relationship ],
        [ sh:description "Unique identifier for the participant, assigned by DCC" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 19 ;
            sh:path include:participant_id ],
        [ sh:description "Phenotype as described by data contributor" ;
            sh:maxCount 1 ;
            sh:order 21 ;
            sh:path include:phenotype_source_text ],
        [ sh:description "NCI Thesaurus code (annotated by data contributor or DCC)" ;
            sh:maxCount 1 ;
            sh:order 5 ;
            sh:path include:diagnosis_ncit ],
        [ sh:description "Down Syndrome status of participant (T21 = Trisomy 21; D21 = Disomy 21, euploid)" ;
            sh:in ( "D21" "T21" ) ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 8 ;
            sh:path include:down_syndrome_status ],
        [ sh:description "Whether phenotype was observed or not" ;
            sh:in ( "Not Observed" "Observed" ) ;
            sh:maxCount 1 ;
            sh:order 22 ;
            sh:path include:phenotype_interpretation ],
        [ sh:description "Mondo disease ontology code (annotated by data contributor or DCC)" ;
            sh:maxCount 1 ;
            sh:order 4 ;
            sh:path include:diagnosis_mondo ],
        [ sh:description "Race of participant" ;
            sh:in ( "American Indian or Alaska Native" "Asian" "Black or African American" "More than one race" "Native Hawaiian or Other Pacific Islander" "Other" "White" ) ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 23 ;
            sh:path include:race ],
        [ sh:description "Age in days at which phenotype was assigned" ;
            sh:maxCount 1 ;
            sh:order 0 ;
            sh:path include:age_at_diagnosis ],
        [ sh:description "Unique identifier for the participant, assigned by data contributor" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 10 ;
            sh:path include:external_id ],
        [ sh:description "Ethnicity of participant" ;
            sh:in ( "Asked but unknown" "Hispanic or Latino" "Not Hispanic or Latino" ) ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 9 ;
            sh:path include:ethnicity ],
        [ sh:description "Participant ID for Participant's father" ;
            sh:maxCount 1 ;
            sh:order 14 ;
            sh:path include:father_id ],
        [ sh:description "Age in days at which phenotype was recorded" ;
            sh:maxCount 1 ;
            sh:order 1 ;
            sh:path include:age_at_phenotype_assignment ],
        [ sh:description "Unique identifer for family to which Participant belongs" ;
            sh:maxCount 1 ;
            sh:order 11 ;
            sh:path include:family_id ] ;
    sh:targetClass include:Participant .

include:Study a sh:NodeShape ;
    sh:closed true ;
    sh:description "A Study" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:name "Study" ;
    sh:property [ sh:description "Name of the study, chosen by data contributor" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 3 ;
            sh:path include:study_name ],
        [ sh:description "Unique identifer for the study, assigned by DCC" ;
            sh:in ( "DS-COG-ALL" "DS-PCGC" "DS360-CHD" "DSC" "HTP" ) ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 2 ;
            sh:path include:study_code ],
        [ sh:description "Funding source for the study" ;
            sh:in ( "INCLUDE" "KF" ) ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 1 ;
            sh:path include:program ],
        [ sh:description "dbGaP study accession code" ;
            sh:maxCount 1 ;
            sh:order 0 ;
            sh:path include:dbgap ] ;
    sh:targetClass include:Study .

